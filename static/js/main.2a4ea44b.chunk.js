(this["webpackJsonppathfinding-visualizer"]=this["webpackJsonppathfinding-visualizer"]||[]).push([[0],{16:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var s=n(3),a=n.n(s),r=n(9),i=n.n(r),u=n(1),d=n(5),c=n.n(d),o=n(10),h=n(8),l=(n(16),n(2)),v=n(4),f={start:"start",end:"end",visited:"visited",unvisited:"unvisited",wall:"wall",path:"path"},g=function(t,e,n,s){return t>=0&&t<n[0].length&&e>=0&&e<n.length&&!s.has("".concat(e,"_").concat(t))&&n[e][t].nodeState!==f.wall},y=function(t){for(var e=[],n=-1;n<=1;n++)for(var s=-1;s<=1;s++)(t||0===n||0===s)&&(0===n&&0===s||e.push({x:s,y:n}));return t&&e.sort((function(t,e){return 0!==t.x&&0!==t.y||0!==e.x&&0!==e.y?0===t.x||0===t.y?-1:0===e.x||0===e.y?1:void 0:0})),e},p=function(t){for(var e=[];"prev"in t;)e.push({x:t.x,y:t.y}),t=t.prev;return e.reverse()},x=function(){function t(e,n){Object(l.a)(this,t),this.weight=1,this.x=e,this.y=n,this.nodeState=f.unvisited,this.setState=this.setState.bind(this),this.click=this.click.bind(this),this.mouseOver=this.mouseOver.bind(this)}return Object(v.a)(t,[{key:"mouseOver",value:function(e){null!==t.draggedState&&this.nodeState!==f.start&&this.nodeState!==f.end&&(t.draggedState!==f.unvisited||this.nodeState!==f.path&&this.nodeState!==f.visited)&&(t.draggedState!==f.wall&&null!==t.revertPreviousNode&&(t.revertPreviousNode(),this.setThisAsPrevious()),this.setState(t.draggedState),t.draggedState===f.wall?t.walls.add(this.getKey()):t.draggedState===f.unvisited?t.walls.delete(this.getKey()):t.draggedState===f.start?t.startNode=this:t.draggedState===f.end&&(t.endNode=this))}},{key:"getKey",value:function(){return"".concat(this.y,"_").concat(this.x)}},{key:"click",value:function(e){var n=e.button;e.preventDefault(),0===n?(t.draggedState=this.nodeState,this.nodeState===f.path||this.nodeState===f.visited?t.draggedState=f.wall:this.nodeState===f.unvisited?(t.draggedState=f.wall,this.setState(f.wall),t.walls.add(this.getKey())):this.setThisAsPrevious(f.unvisited)):2===n&&(t.draggedState=f.unvisited,this.nodeState===f.wall&&(this.setState(f.unvisited),t.walls.delete(this.getKey())))}},{key:"setThisAsPrevious",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.nodeState;t.revertPreviousNode=this.setState.bind(this,e)}},{key:"setState",value:function(t){void 0===t&&(t=f.unvisited),this.NodeDOM.className="node "+f[t],this.nodeState=t}}]),t}();x.startNode=null,x.endNode=null,x.draggedState=null,x.revertPreviousNode=null,x.walls=new Set;var S=function(){function t(){Object(l.a)(this,t),this.ids=[],this.values=[],this.length=0}return Object(v.a)(t,[{key:"clear",value:function(){this.length=0}},{key:"push",value:function(t,e){var n=this.length++;for(this.ids[n]=t,this.values[n]=e;n>0;){var s=n-1>>1,a=this.values[s];if(e>=a)break;this.ids[n]=this.ids[s],this.values[n]=a,n=s}this.ids[n]=t,this.values[n]=e}},{key:"pop",value:function(){if(0!==this.length){var t=this.ids[0];if(this.length--,this.length>0){for(var e=this.ids[0]=this.ids[this.length],n=this.values[0]=this.values[this.length],s=this.length>>1,a=0;a<s;){var r=1+(a<<1),i=r+1,u=this.ids[r],d=this.values[r],c=this.values[i];if(i<this.length&&c<d&&(r=i,u=this.ids[i],d=c),d>=n)break;this.ids[a]=u,this.values[a]=d,a=r}this.ids[a]=e,this.values[a]=n}return t}}},{key:"peek",value:function(){if(0!==this.length)return this.ids[0]}},{key:"peekValue",value:function(){if(0!==this.length)return this.values[0]}},{key:"shrink",value:function(){this.ids.length=this.values.length=this.length}}]),t}(),b=function(t,e,n,s){var a=y(s),r=new S,i=[],d=new Set;for(t.cost=0,r.push(t,0),d.add("".concat(t.y,"_").concat(t.x));0!==r.length;){var c=r.pop();if(c.x===e.x&&c.y===e.y)return[i,p(c)];i.push(c);var o,h=Object(u.a)(a);try{for(h.s();!(o=h.n()).done;){var l=o.value,v={x:c.x+l.x,y:c.y+l.y};if(g(v.x,v.y,n,d)){v.prev=c;var f=Math.abs(v.x-e.x),x=Math.abs(v.y-e.y),b=Math.sqrt(f*f+x*x),j="".concat(v.y,"_").concat(v.x);r.push(v,b),d.add(j)}}}catch(w){h.e(w)}finally{h.f()}}return[i,[]]},j=n(0),w=function(){window.addEventListener("mouseup",(function(){x.draggedState=null,x.revertPreviousNode=null}));var t=function(t,e){for(var n=new Array(e),s=0;s<e;s++){for(var a=new Array(t),r=0;r<t;r++)a[r]=new x(r,s);n[s]=a}var i=~~(e/2),u=~~(t/4),d=t-~~(t/4);return n[i][u].nodeState=f.start,n[i][d].nodeState=f.end,x.startNode=n[i][u],x.endNode=n[i][d],n}(60,30),e=Object(s.useRef)(t),n=Object(s.useRef)(!1),r=Object(s.useRef)(!1),i=Object(s.useRef)([]),d=function(){var t=Object(h.a)(c.a.mark((function t(){var s,a,u,d,g,y,p,S;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.current){t.next=2;break}return t.abrupt("return");case 2:if(n.current&&l(i.current),n.current=!0,r.current=!0,s={x:x.startNode.x,y:x.startNode.y},a={x:x.endNode.x,y:x.endNode.y},u=b(s,a,e.current,!0),d=Object(o.a)(u,2),g=d[0],y=d[1],i.current=g,0!==g.length){t.next=11;break}return t.abrupt("return");case 11:p=0,S=setInterval(Object(h.a)(c.a.mark((function t(){var n,s,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=g[p].x,s=g[p].y,p++,(a=e.current[s][n].nodeState)!==f.end&&a!==f.start&&e.current[s][n].setState(f.visited),p!==g.length){t.next=10;break}return clearInterval(S),t.next=9,v(y);case 9:r.current=!1;case 10:case"end":return t.stop()}}),t)}))),.5);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(t){var n,s=Object(u.a)(t);try{for(s.s();!(n=s.n()).done;){var a=n.value,r=a.x,i=a.y,d=e.current[i][r].nodeState;d!==f.path&&d!==f.visited||e.current[a.y][a.x].setState(f.unvisited)}}catch(c){s.e(c)}finally{s.f()}},v=function(t){return new Promise((function(n){if(0!==t.length)var s=0,a=setInterval((function(){var r=t[s].x,i=t[s].y;s++;var u=e.current[i][r].nodeState;u!==f.end&&u!==f.start&&e.current[i][r].setState(f.path),s===t.length&&(clearInterval(a),n())}),20);else n()}))};return Object(s.useEffect)((function(){for(var t=0;t<30;t++)for(var n=0;n<60;n++){var s=e.current[t][n];s.NodeDOM=document.getElementById("".concat(s.y,"_").concat(s.x))}})),Object(j.jsxs)(a.a.Fragment,{children:[Object(j.jsx)("button",{type:"button",onClick:d,title:"Visualize",children:"Visualize!"}),Object(j.jsx)("table",{className:"board",children:Object(j.jsx)("tbody",{onContextMenu:function(t){return t.preventDefault()},children:e.current.map((function(t){return Object(j.jsx)("tr",{className:"row",children:t.map((function(t){return Object(j.jsx)("td",{className:"node "+t.nodeState,id:"".concat(t.y,"_").concat(t.x),onMouseDown:t.click,onMouseOver:t.mouseOver})}))})}))})})]})};var O=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(w,{})})};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(O,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.2a4ea44b.chunk.js.map